# Netlify configuration file

[build]
  # Change into the frontend directory, install dependencies, and then build
  command = "cd frontend && npm install && npm run build"
  # The directory where the built frontend is located (relative to the root)
  publish = "frontend/dist"
  # The directory where the serverless function is located (relative to the root)
  functions = "api"

# Redirect rule for the API
[[redirects]]
  # All requests to /api/* will be proxied to the serverless function
  from = "/api/*"
  # The name of the function file is index.js, so the function is named 'index'
  to = "/.netlify/functions/index/:splat"
  status = 200

[[plugins]]
package = "@netlify/plugin-functions-install-core"